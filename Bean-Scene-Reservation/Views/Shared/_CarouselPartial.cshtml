@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager
@{
    bool userIsMember = User.IsInRole("Member");
    bool userIsStaff = User.IsInRole("Staff");
    bool userIsManager = User.IsInRole("Manager");
    bool isLoggedIn = SignInManager.IsSignedIn(User);
}

<div class="d-flex justify-content-center mt-2 mb-2">
    <div id="homepageCarousel" class="carousel slide col-md-8 shadow">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="~/assets/images/stock/res-tables.jpg" class="d-block w-100" alt="Restaurant tables">
                <div class="carousel-caption d-block text-start">
                    <h2>Reserve Today</h2>
                    <p>Experience fine dining at our fine establishment.</p>
                    @if (userIsManager || userIsStaff)
                    {
                        <a class="btn btn-dark" title="You cannot view this page as a staff or manager.">New Reservation</a>
                    } else
                    {
                        <a class="btn btn-primary" asp-area="" asp-controller="Reservations" asp-action="CustomerCreate">New Reservation</a>
                    }
                </div>
            </div>
            <div class="carousel-item">
                <img src="~/assets/images/stock/res-cutlery.jpg" class="d-block w-100" alt="Restaurant cutlery">
                <div class="carousel-caption d-block text-start">
                    <h2>Become a Member</h2>
                    <p>Save time and enjoy benefits.</p>
                    @if (userIsMember || userIsStaff || userIsManager )
                    {
                        <a class="btn btn-dark" title="You've already made an account! Thanks!">Register</a>
                    } else
                    {
                        <a class="btn btn-primary" asp-area="Identity" asp-page="/Account/Register">Register</a>
                    }
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#homepageCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#homepageCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div>